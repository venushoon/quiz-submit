/* =========================
   Live Quiz - app.css (최종)
   ========================= */

/* ---- 기본 리셋 & 베이스 ---- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo",
               "Segoe UI", Roboto, "Noto Sans KR", "Apple Color Emoji", "Segoe UI Emoji",
               "Segoe UI Symbol", sans-serif;
  color: #111;
  background: #fafbff;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ---- 유틸 ---- */
.hide { display: none !important; }
.muted { color: #6b7280; }
.mt { margin-top: .75rem; }
.gap { gap: .5rem; }
.row { display: flex; align-items: center; }
.wrap { flex-wrap: wrap; }
.right { margin-left: auto; }
.grow { flex: 1 1 auto; }
.align-center { align-items: center; }

/* 뷰 상태 토글(선택사항: JS에서 <body>에 class를 붙여 사용)
   - body.student-ui: 학생 모드일 때 관리자 전용 숨김
   - body.admin-ui:   관리자 모드일 때 학생 전용 숨김 */
body.student-ui .admin-only { display: none !important; }
body.admin-ui   .student-only { display: none !important; }

/* ---- 상단바 ---- */
.topbar {
  position: sticky; top: 0; z-index: 50;
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  gap: .5rem .75rem;
  padding: .75rem 1rem;
  background: #fff;
  border-bottom: 1px solid #e5e7eb;
}
.topbar .brand {
  grid-column: 1 / 2;
  display: inline-flex; align-items: center; gap: .5rem;
  font-weight: 700; font-size: 1rem;
}
.live-dot {
  width: .6rem; height: .6rem; border-radius: 999px; background: #555;
  box-shadow: 0 0 0 2px #fff inset;
}
.topbar .session {
  grid-column: 2 / 3;
  display: inline-flex; align-items: center; gap: .5rem;
}
.topbar .tabs {
  grid-column: 1 / -1;
  display: flex; gap: .25rem; flex-wrap: wrap;
}

/* ---- 탭 ---- */
.tab {
  appearance: none; border: 1px solid #e5e7eb; background: #fff; color: #374151;
  padding: .45rem .8rem; border-radius: .5rem; cursor: pointer;
  font-size: .9rem; font-weight: 600;
}
.tab:hover { background: #f9fafb; }
.tab.active { background: #eef2ff; border-color: #c7d2fe; color: #3730a3; }

/* ---- 컨테이너 섹션 ---- */
.panel {
  max-width: 1100px; margin: 1rem auto; padding: 0 1rem;
}

/* ---- 카드 ---- */
.card {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: .75rem;
  padding: 1rem;
  box-shadow: 0 1px 0 rgba(17,24,39,.02);
}
.card.hint { background: #f8fafc; }

/* ---- 입력 & 버튼 ---- */
.input {
  width: 100%;
  border: 1px solid #d1d5db;
  background: #fff;
  border-radius: .6rem;
  padding: .55rem .7rem;
  font-size: .95rem;
  color: #111827;
}
.input:focus {
  outline: none; border-color: #6366f1; box-shadow: 0 0 0 3px rgba(99,102,241,.15);
}
.input.sm { width: 7rem; }
.input.xl { font-size: 1.05rem; padding: .7rem .8rem; }

.btn {
  appearance: none; border: 1px solid #e5e7eb; background: #fff;
  color: #111827; padding: .55rem .8rem; border-radius: .6rem; cursor: pointer;
  font-weight: 600; font-size: .95rem;
}
.btn:hover { background: #f9fafb; }
.btn.primary { background: #5866ff; border-color: #5866ff; color: #fff; }
.btn.primary:hover { filter: brightness(.98); }
.btn.success { background: #10b981; border-color: #10b981; color: #fff; }
.btn.success:hover { filter: brightness(.98); }
.btn.danger  { background: #ef4444; border-color: #ef4444; color: #fff; }
.btn.danger:hover { filter: brightness(.98); }
.btn.ghost { background: #fff; border-color: #d1d5db; color: #374151; }

/* ---- 배지/점표시 ---- */
.badge {
  display: inline-flex; align-items: center; gap: .35rem;
  background: #f3f4f6; color: #111827; border: 1px solid #e5e7eb;
  border-radius: 999px; padding: .25rem .6rem; font-size: .8rem; font-weight: 700;
}
.dot { display: inline-block; width: .55rem; height: .55rem; border-radius: 999px; vertical-align: middle; }
.dot.blue   { background: #3b82f6; }
.dot.yellow { background: #f59e0b; }
.dot.green  { background: #10b981; }
.dot.red    { background: #ef4444; }

/* ---- 빌더: 문항 폼 ---- */
.builder { display: grid; gap: .75rem; }
.qcard { border: 1px dashed #e5e7eb; border-radius: .75rem; padding: .8rem; background: #fff; }
.qcard .switch { display: inline-flex; align-items: center; gap: .35rem; margin-right: .75rem; }
.qcard .qtext { min-width: 240px; }
.qcard .qimg { width: 12rem; }
.mcq .row { gap: .5rem; }

/* 보기 4개가 한 줄 정렬되도록 */
.mcq .row.wrap .input.opt {
  flex: 1 1 calc(25% - .5rem);
  min-width: 180px;
}

/* ---- 옵션 영역 ---- */
.grid {
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 1rem;
}
/* QR 더 작게(요청 반영) */
.qr {
  width: 120px;   /* 기존 140px → 120px */
  height: 120px;
  border: 1px solid #e5e7eb; border-radius: .5rem; background: #fff;
}

/* ---- 프레젠테이션 ---- */
#presentWrap { text-align: center; }
#pTitle { margin: .25rem 0 .25rem; font-size: 1.25rem; }
#pQ { font-size: 1.35rem; margin: .25rem 0; }
.pimg {
  display: block; margin: .25rem auto 0;
  max-width: min(86%, 720px); height: auto;
  border-radius: .75rem; border: 1px solid #e5e7eb;
}
.pgrid { display: grid; gap: .5rem; grid-template-columns: repeat(2, minmax(0, 1fr)); max-width: 720px; margin: .75rem auto 0; }
.popt {
  border: 1px solid #e5e7eb; background: #fff; border-radius: .75rem;
  padding: .7rem .9rem; text-align: left; font-size: 1.05rem;
}
.popt:hover { background: #f9fafb; }

/* ---- 학생 화면 ---- */
#studentAccess .card { max-width: 760px; margin: 0 auto; }
#sQTitle { text-align: center; font-size: 1.3rem; }
#sQImg { max-width: min(86%, 720px); height: auto; margin: .25rem auto 0; border-radius: .75rem; border: 1px solid #e5e7eb; }
#sOptBox .btn.popt { width: 100%; justify-content: flex-start; }
#sShortWrap .input { min-width: 200px; }

/* ---- 테이블(결과/내 결과) ---- */
table { width: 100%; border-collapse: collapse; }
thead th {
  background: #f3f4f6; font-weight: 700; color: #111827;
  border-bottom: 1px solid #e5e7eb; padding: .6rem .5rem; text-align: left;
}
tbody td {
  border-bottom: 1px solid #f1f5f9; padding: .55rem .5rem; font-size: .95rem;
}

/* ---- 반응형 ---- */
@media (max-width: 880px) {
  .grid { grid-template-columns: 1fr; }
  .topbar { grid-template-columns: 1fr; grid-template-rows: auto auto auto; }
  .topbar .session { grid-column: 1 / -1; flex-wrap: wrap; }
  .pgrid { grid-template-columns: 1fr; }
  .mcq .row.wrap .input.opt { flex: 1 1 100%; min-width: 100%; }
}
